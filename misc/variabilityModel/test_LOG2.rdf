@prefix cns: <https://customNamespace.com/./20200514_variabilityModelled.R/> .
@prefix geokur: <https://geokur.geo.tu-dresden.de/> .
@prefix prov: <http://www.w3.org/ns/prov#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .

cns:dfClimateAreaResponseCrops a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz ;
    prov:wasDerivedFrom cns:dfClimateCrops,
        cns:dfHarvestedArea,
        cns:dfPrecipitation,
        cns:dfTemperature ;
    prov:wasGeneratedBy cns:merge12 .

cns:dfVariability a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz ;
    prov:wasDerivedFrom cns:dfSuitabilityYear ;
    prov:wasGeneratedBy cns:aggregate .

cns:stackCroplandBinary a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz ;
    prov:wasDerivedFrom cns:stackCropland ;
    prov:wasGeneratedBy cns:reclassifyCropland .

geokur:hasProcessType a rdf:Property .

cns:aggregate a prov:Activity,
        geokur:Process ;
    rdfs:comment "calculates the coefficient of variance for mean suitability for each time interval and political unit" ;
    prov:used cns:dfSuitabilityYear ;
    prov:wasAssociatedWith cns:lukasEgli,
        cns:ufz ;
    prov:wasInformedBy cns:modelSuitability ;
    geokur:hasProcessType geokur:semanticShift .

cns:dfFinal prov:wasAttributedTo cns:lukasEgli,
        cns:ufz .

cns:merge12 a prov:Activity,
        geokur:Process ;
    prov:used cns:dfClimateCrops,
        cns:dfHarvestedArea,
        cns:dfPrecipitation,
        cns:dfTemperature ;
    prov:wasAssociatedWith cns:lukasEgli,
        cns:ufz ;
    prov:wasInformedBy cns:convertCelsius,
        cns:rbind,
        cns:round ;
    geokur:hasProcessType geokur:basalChange .

cns:reclassifyCropland a prov:Activity,
        geokur:Process ;
    rdfs:comment "reclass cells with croplands to 1 and without to NA" ;
    prov:used cns:stackCropland ;
    prov:wasAssociatedWith cns:lukasEgli,
        cns:ufz ;
    prov:wasInformedBy cns:stack ;
    geokur:hasProcessType geokur:valueChange .

cns:ClimateCropsGeoYear a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz .

cns:cropland1980ADasc a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz .

cns:cropland1990ADasc a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz .

cns:cropland2000ADasc a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz .

cns:cropland2010ADasc a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz .

cns:dfHarvestedArea a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz .

cns:dfPrec a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz ;
    prov:wasDerivedFrom cns:NUTS2_shape,
        cns:stackCropPrec ;
    prov:wasGeneratedBy cns:extract1 .

cns:dfPrecipitation a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz .

cns:dfSuitabilityYear a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz ;
    prov:wasDerivedFrom cns:ClimateCropsGeoYear ;
    prov:wasGeneratedBy cns:modelSuitability .

cns:dfTemp a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz ;
    prov:wasDerivedFrom cns:NUTS2_shape,
        cns:stackCropTemp ;
    prov:wasGeneratedBy cns:extract .

cns:dfTemperature a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz .

cns:extract a prov:Activity,
        geokur:Process ;
    rdfs:comment "extracts weighted mean values from raster to shapefile" ;
    prov:used cns:NUTS2_shape,
        cns:stackCropTemp ;
    prov:wasAssociatedWith cns:lukasEgli,
        cns:ufz ;
    prov:wasInformedBy cns:stack1 ;
    geokur:hasProcessType geokur:valueChange .

cns:extract1 a prov:Activity,
        geokur:Process ;
    prov:used cns:NUTS2_shape,
        cns:stackCropPrec ;
    prov:wasAssociatedWith cns:lukasEgli,
        cns:ufz ;
    prov:wasInformedBy cns:stack12 ;
    geokur:hasProcessType geokur:valueChange .

cns:maizeplantasc a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz .

cns:maizetotdaysasc a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz .

cns:modelSuitability a prov:Activity,
        geokur:Process ;
    rdfs:comment "calculate suitability for given climate weighted by relative area harvested" ;
    prov:used cns:ClimateCropsGeoYear ;
    prov:wasAssociatedWith cns:lukasEgli,
        cns:ufz ;
    geokur:hasProcessType geokur:coreConcept .

cns:pathTemp a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz .

cns:riceplantasc a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz .

cns:ricetotdaysasc a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz .

cns:soybeansplantasc a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz .

cns:soybeanstotdaysasc a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz .

cns:stack a prov:Activity,
        geokur:Process ;
    rdfs:comment "creates RasterStack from individual rasters" ;
    prov:used cns:cropland1980ADasc,
        cns:cropland1990ADasc,
        cns:cropland2000ADasc,
        cns:cropland2010ADasc ;
    prov:wasAssociatedWith cns:lukasEgli,
        cns:ufz ;
    geokur:hasProcessType geokur:basalChange .

cns:stack1 a prov:Activity,
        geokur:Process ;
    prov:used cns:stackCroplandBinarycroplandYear,
        cns:stackMaize,
        cns:stackRice,
        cns:stackSoybeans,
        cns:stackTemp,
        cns:stackWheat ;
    prov:wasAssociatedWith cns:lukasEgli,
        cns:ufz ;
    prov:wasInformedBy cns:overlay2growingMonths,
        cns:overlay2growingMonths1,
        cns:overlay2growingMonths12,
        cns:overlay2growingMonths123,
        cns:stackClimate ;
    geokur:hasProcessType geokur:basalChange .

cns:stack12 a prov:Activity,
        geokur:Process ;
    prov:used cns:stackCroplandBinarycroplandYear,
        cns:stackMaize,
        cns:stackPrec,
        cns:stackRice,
        cns:stackSoybeans,
        cns:stackWheat ;
    prov:wasAssociatedWith cns:lukasEgli,
        cns:ufz ;
    prov:wasInformedBy cns:overlay2growingMonths,
        cns:overlay2growingMonths1,
        cns:overlay2growingMonths12,
        cns:overlay2growingMonths123 ;
    geokur:hasProcessType geokur:basalChange .

cns:stackClimate a prov:Activity,
        geokur:Process ;
    rdfs:comment "downloads all monthly climate files of a year, aggregates them by factor 10 and stacks them" ;
    prov:used cns:pathTemp ;
    prov:wasAssociatedWith cns:lukasEgli,
        cns:ufz ;
    geokur:hasProcessType geokur:valueChange .

cns:stackCropPrec a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz ;
    prov:wasDerivedFrom cns:stackCroplandBinarycroplandYear,
        cns:stackMaize,
        cns:stackPrec,
        cns:stackRice,
        cns:stackSoybeans,
        cns:stackWheat ;
    prov:wasGeneratedBy cns:stack12 .

cns:stackCropTemp a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz ;
    prov:wasDerivedFrom cns:stackCroplandBinarycroplandYear,
        cns:stackMaize,
        cns:stackRice,
        cns:stackSoybeans,
        cns:stackTemp,
        cns:stackWheat ;
    prov:wasGeneratedBy cns:stack1 .

cns:stackCropland a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz ;
    prov:wasDerivedFrom cns:cropland1980ADasc,
        cns:cropland1990ADasc,
        cns:cropland2000ADasc,
        cns:cropland2010ADasc ;
    prov:wasGeneratedBy cns:stack .

cns:stackPrec a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz .

cns:stackTemp a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz ;
    prov:wasDerivedFrom cns:pathTemp ;
    prov:wasGeneratedBy cns:stackClimate .

cns:wheatplantasc a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz .

cns:wheattotdaysasc a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz .

cns:overlay2growingMonths a prov:Activity,
        geokur:Process ;
    rdfs:comment "create a raster for each month that shows regions where a given crop can be grown during that month" ;
    prov:used cns:maizeplantasc,
        cns:maizetotdaysasc ;
    prov:wasAssociatedWith cns:lukasEgli,
        cns:ufz ;
    geokur:hasProcessType geokur:semanticShift .

cns:overlay2growingMonths1 a prov:Activity,
        geokur:Process ;
    prov:used cns:wheatplantasc,
        cns:wheattotdaysasc ;
    prov:wasAssociatedWith cns:lukasEgli,
        cns:ufz ;
    geokur:hasProcessType geokur:semanticShift .

cns:overlay2growingMonths12 a prov:Activity,
        geokur:Process ;
    prov:used cns:riceplantasc,
        cns:ricetotdaysasc ;
    prov:wasAssociatedWith cns:lukasEgli,
        cns:ufz ;
    geokur:hasProcessType geokur:semanticShift .

cns:overlay2growingMonths123 a prov:Activity,
        geokur:Process ;
    prov:used cns:soybeansplantasc,
        cns:soybeanstotdaysasc ;
    prov:wasAssociatedWith cns:lukasEgli,
        cns:ufz ;
    geokur:hasProcessType geokur:semanticShift .

cns:NUTS2_shape a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz .

cns:convertCelsius a prov:Activity,
        geokur:Process ;
    prov:used cns:dfClimateCrops ;
    prov:wasAssociatedWith cns:lukasEgli,
        cns:ufz ;
    prov:wasInformedBy cns:convertCelsius,
        cns:rbind,
        cns:round ;
    geokur:hasProcessType geokur:unitChange .

cns:rbind a prov:Activity,
        geokur:Process ;
    prov:used cns:dfFinal,
        cns:dfPrec,
        cns:dfTemp ;
    prov:wasAssociatedWith cns:lukasEgli,
        cns:ufz ;
    prov:wasInformedBy cns:extract,
        cns:extract1 ;
    geokur:hasBranch "True" ;
    geokur:hasProcessType geokur:basalChange .

cns:round a prov:Activity,
        geokur:Process ;
    prov:used cns:dfClimateCrops ;
    prov:wasAssociatedWith cns:lukasEgli,
        cns:ufz ;
    prov:wasInformedBy cns:convertCelsius,
        cns:rbind,
        cns:round ;
    geokur:hasProcessType geokur:valueChange .

cns:stackCroplandBinarycroplandYear a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz .

cns:stackMaize a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz ;
    prov:wasDerivedFrom cns:maizeplantasc,
        cns:maizetotdaysasc ;
    prov:wasGeneratedBy cns:overlay2growingMonths .

cns:stackRice a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz ;
    prov:wasDerivedFrom cns:riceplantasc,
        cns:ricetotdaysasc ;
    prov:wasGeneratedBy cns:overlay2growingMonths12 .

cns:stackSoybeans a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz ;
    prov:wasDerivedFrom cns:soybeansplantasc,
        cns:soybeanstotdaysasc ;
    prov:wasGeneratedBy cns:overlay2growingMonths123 .

cns:stackWheat a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz ;
    prov:wasDerivedFrom cns:wheatplantasc,
        cns:wheattotdaysasc ;
    prov:wasGeneratedBy cns:overlay2growingMonths1 .

cns:dfClimateCrops a prov:Entity,
        geokur:Data ;
    prov:wasAttributedTo cns:lukasEgli,
        cns:ufz ;
    prov:wasDerivedFrom cns:dfClimateCrops,
        cns:dfPrec,
        cns:dfTemp ;
    prov:wasGeneratedBy cns:convertCelsius,
        cns:rbind,
        cns:round .

geokur:Process rdfs:subClassOf prov:Activity .

geokur:Data rdfs:subClassOf prov:Entity .

cns:lukasEgli a prov:Agent ;
    prov:actedOnBehalfOf cns:ufz .

cns:ufz a prov:Agent .

